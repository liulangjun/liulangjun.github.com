<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		div{
			width: 100px;
			height: 100px;
			background-color: #ff6600;
			position: absolute;
		}
	</style>
	<script type="text/javascript">
		window.onload = function(){
			var oDiv = document.querySelector('div');
			// localStorage.clear();
			oDiv.style.left = localStorage.getItem('left')+'px';
			oDiv.style.top = localStorage.getItem('top')+'px';
			oDiv.onmousedown = function(ev){
				var oEvent = ev || event;
				var disX = oEvent.clientX-oDiv.offsetLeft;
				var disY = oEvent.clientY-oDiv.offsetTop;
				document.onmousemove = function(ev){
					var oEvent = ev || event;
					var l = oEvent.clientX-disX;
					var t = oEvent.clientY-disY;
					oDiv.style.left = l+'px';
					oDiv.style.top = t+'px';
					localStorage.setItem('left','l');
					localStorage.setItem('top','t');
				}
				document.onmouseup = function(){
					document.onmousemove = null;
					document.onmouseup = null;
					oDiv.releaseCapture && oDiv.releaseCapture();
					
				}
				oDiv.setCapture && oDiv.setCapture();
				return false
			}
		}
	</script>
</head>
<body>
	<div></div>
</body>
</html>